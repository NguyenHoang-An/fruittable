<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi"
      th:replace="layout-admin :: layout(~{::body})">
<body>

<main class="container admin-section">
    <!-- TIÊU ĐỀ -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-bold text-success">📦 Danh sách sản phẩm</h2>
        <a th:href="@{/admin/products/new}" class="btn btn-success">
            <i class="fa fa-plus me-1"></i> Thêm sản phẩm
        </a>
    </div>

    <!-- BẢNG SẢN PHẨM -->
    <div class="card admin-card">
        <div class="card-body table-responsive">
            <table class="table table-striped align-middle">
                <thead class="table-success">
                <tr>
                    <th>#</th>
                    <th>Tên sản phẩm</th>
                    <th>Giá</th>
                    <th>Danh mục</th>
                    <th>Hình ảnh</th>
                    <th class="text-center">Hành động</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="p, stat : ${products}">
                    <td th:text="${stat.count}">1</td>
                    <td th:text="${p.name}">Táo Fuji</td>
                    <td th:text="${#numbers.formatDecimal(p.price,0,'COMMA',0,'POINT')}">100000</td>
                    <td th:text="${p.category}">Trái cây</td>
                    <td>
                        <img th:src="@{${p.imageUrl}}" alt="Ảnh sản phẩm" width="60"
                             class="rounded shadow-sm">
                    </td>
                    <td class="text-center">
                        <a th:href="@{'/admin/products/edit/' + ${p.id}}" class="btn btn-outline-primary btn-sm me-1">
                            <i class="fa fa-edit"></i>
                        </a>
                        <a th:href="@{'/admin/products/delete/' + ${p.id}}" class="btn btn-outline-danger btn-sm"
                           onclick="return confirm('Xóa sản phẩm này?')">
                            <i class="fa fa-trash"></i>
                        </a>
                    </td>
                </tr>
                <tr th:if="${#lists.isEmpty(products)}">
                    <td colspan="6" class="text-center text-muted">Chưa có sản phẩm nào.</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</main>

</body>
</html>
